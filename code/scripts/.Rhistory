head(iris)
iris[ ,V5 == "Iris-setosa"]
iris[ , iris$V5 == "Iris-setosa"]
iris$V5 == "Iris-setosa"
iris[iris$V5 == "Iris-setosa"]
iris(iris$V5 == "Iris-setosa")
iris[iris$V5 == "Iris-setosa",]
library(rattle)
?require
rattle()
head(iris3)
head(iris3)
iris3
?melt
gather
?gather
library("DataComputing", lib.loc="/Library/Frameworks/R.framework/Versions/3.2/Resources/library")
?suppressMessages
?gather
?melt
?gather
stocks <- data_frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocks
gather(stocks, stock, price, -time)
mini_iris <- iris[c(1, 51, 101), ]
mini_iris
gather(mini_iris, key = flower_att, value = measurement,
Sepal.Length, Sepal.Width, Petal.Length, Petal.Width)
?melt
melt(mini_iris)
install.packages('melt')
install.packages('reshape2')
install.packages("reshape2")
library(melt)
library(reshape2)
melt(mini_iris)
class(melt(mini_iris))
melt(mini_iris, value.name = 'measurement')
melt(mini_iris, value.name = 'measurement')
library('XML')
?erRoot
??erRoot
?xmlROot
?xmlRoot
?grep
c = c('grind', 'blah', 'teeth', 'g', 'r')
grepl('[grind|teeth]', c)
grepl('[(grind)|(teeth)', c)
grepl('[(grind)|(teeth)]', c)
grep('[(grind)|(teeth)]', c)
grep('[(grind)|(teeth)]', c, value = TRUE)
grep('grind|teeth', c, value = TRUE)
1/3
rount(1/3, 4)
round(1/3, 4)
round(1/3, 10)
round(1/3, 20)
?round
round(1/3, -2)
?options
print(1/3)
print(round(1/3, 1000))
library(readr)
iris <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data",col_names = FALSE)
names(iris) <- c("sepal.length", "sepal.width", "petal.length", "petal.width", "class")
setosa <- iris[iris$class == "Iris-setosa", ]
versicolor <- iris[iris$class == "Iris-versicolor", ]
virginica <- iris[iris$class == "Iris-virginica", ]
setosa_mean <- apply(setosa[1:4], 2, mean)
versicolor_mean <- apply(versicolor[1:4], 2, mean)
virginica_mean <- apply(virginica[1:4], 2, mean)
setosa_mean
versicolor_mean
virginica_mean
library(histogram)
library('histogram')
install.packages('histogram')
library('histogram')
?histogram
y<-rnorm(100)
histogram(y)
?histogram
n<-sum(sample(c(0,1),1000,replace=TRUE))
y<-c(rnorm(n,mean=5,sd=0.1),rnorm(1000-n))
histogram(y,type="regular",penalty="cv",control=list(cvformula=3))
library(stringr)
str_subset(c('hay', 'bay', 'dke'), 'a')
str_subset(c('hay', 'bay', 'dke'), '[^a]')
str_subset(c('hay', 'bay', 'dke', 'adam'), '[^a]')
str_subset(c('hay', 'bay', 'dke', 'adam'), '^a')
str_subset(c('hay', 'bay', 'dke', 'adam'), '[^ad]')
str_extract(states, 'a')
head(mtcars)
names(mtcars)
rownames(mtcars)
names(mtcars)
quit()
?knit
??knit
getwd()
setwd('.')
y <- c(1, 2, 3, 4, NA)
z <- c(TRUE, FALSE, TRUE)
w <- letters[1:5]
x <- c(1, 2, 3, 4, 5)
range_value(y)
source("../functions/functions.R")
setwd("~/Documents/Stat_159/labs/stat_159_lab3/lab07/test-that/tests")
source("../functions/functions.R")
range_value(y)
range_value(y) == NA
is.null(range_value(y))
expect_matches(range_value(y), NA)
library(testthat)
expect_matches(range_value(y), NA)
expect_matches(range_value(y), NA)
expect_match(range_value(y), NA)
expect_identical(range_value(y), NA)
expect_equal(range_value(y), NA)
class(range_value(z))
range_value(z)
z <- c(TRUE, FALSE, TRUE)
class(range_value(z))
z
range_value(z)
1L
1L*100
1L
int(1)
expect_error(range_value(w))
w <- letters[1:5]
expect_error(range_value(w))
class(range_value(z))
z <- c(TRUE, FALSE, TRUE)
context("Test for range value")
range_value(y)
typeof(range_value(y))
y <- c(1, 2, 3, 4, NA)
range_value(y)
typeof(range_value(y))
a = c(1,2,NA)
range_value(a)
y
y = c(1,2,3,4,NA)
range_value(y)
y <- c(1,2,3,4,NA)
range_value(y)
y <- c(1, 2, 3, 4, NA)
range_value(y)
typeof(range_value(y))
typeof(range_value(a))
max(y)
tyoeof(max(y))
typeof(max(y))
typeof(min(y))
y <- c(1, 2, 3, 4, NA)
expect_equal(range_value(y), NA_real_)
typeof(NA_real_)
sum(is.na(c(1,2,3)))
sum(is.na(c(1,5, TRUE)))
sum(is.na(c(1,5, NA)))
x <- c(1, 2, 3, 4, NA)
max(na.rm(x)) - min(na.rm(x))
max(na.omit(x)) - min(na.omit(x))
residual_std_error(reg)
setwd("~/Documents/Stat_159/hw/stat159_hw03/code/scripts")
library(ggplot2)
# Import data
advertising <- read.csv('../../data/Advertising.csv')
advertising['X'] <- NULL
# Exploration and Summary Statistics
str(advertising)
sink('eda-output.txt')
summary(advertising)
sink(NULL)
# ************************************************
# Visualizations
# ************************************************
# histogram of sales
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + ggtitle("Histogram of Sales")
#histogram of tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of radio
hist_tv <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of newspaper
hist_tv <- ggplot(advertising, aes(x = "Newspaper") + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_tv
hist_tv <- ggplot(advertising, aes(x = "Newspaper")) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_tv
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_radio
hist_newspaper <- ggplot(advertising, aes(x = "Newspaper")) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_newspaper
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
hist_newspaper
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + ggtitle("Histogram of Sales")
hist_sales
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#b30000', high = 'light red') + ggtitle("Histogram of TV")
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#b30000', high = '#CD9B9B') + ggtitle("Histogram of TV")
hist_newspaper
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + scale_fill_gradient("Density", low = '#9BC4E2', high = '#0D4F8B') + ggtitle("Histogram of Sales")
#histogram of tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of radio
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = 'palegreen', high = '#006400') + ggtitle("Histogram of TV")
#histogram of newspaper
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#DDA0DD', high = '#2E0854') + ggtitle("Histogram of TV")
hist_sales
hist_tv
hist_radio
hist_newspaper
hist_radio
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 5) +
geom_density() + scale_fill_gradient("Density", low = 'palegreen', high = '#006400') + ggtitle("Histogram of TV")
hist_radio
hist_sales
hist_tv
hist_radio
hist_newspaper
paste('../../images/histogram-', a[1], '.png')
paste0('../../images/histogram-', a[1], '.png')
a <- c('sales', 'tv', 'radio', 'newspaper')
paste0('../../images/histogram-', a[1], '.png')
graphs <- c(hist_sales, hist_tv, hist_radio, hist_newspaper)
graphs[1]
graphs <- c(hist_sales, hist_tv, hist_radio, hist_newspaper)
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + scale_fill_gradient("Density", low = '#9BC4E2', high = '#0D4F8B') + ggtitle("Histogram of Sales")
#histogram of tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of radio
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 5) +
geom_density() + scale_fill_gradient("Density", low = 'palegreen', high = '#006400') + ggtitle("Histogram of TV")
#histogram of newspaper
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#DDA0DD', high = '#2E0854') + ggtitle("Histogram of TV")
a <- c('sales', 'tv', 'radio', 'newspaper')
graphs <- c(hist_sales, hist_tv, hist_radio, hist_newspaper)
graphs[1]
graphs[3]
for (i in 1:length(a)) {
path <- paste0('../../images/histogram-', a[i], '.png')
png(path)
graphs[i]
dev.off()
pdf(path)
garphs[i]
dev.off()
}
for (i in 1:length(a)) {
path <- paste0('../../images/histogram-', a[i], '.png')
png(path)
graphs[i]
dev.off()
pdf(path)
graphs[i]
dev.off()
}
for (i in 1:length(a)) {
path <- paste0('../../images/histogram-', a[i], '.png')
png(path)
graphs[i]
dev.off()
pdf(path)
graphs[i]
dev.off()
}
# histogram of sales
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + scale_fill_gradient("Density", low = '#9BC4E2', high = '#0D4F8B') + ggtitle("Histogram of Sales")
#histogram of tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of radio
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 5) +
geom_density() + scale_fill_gradient("Density", low = 'palegreen', high = '#006400') + ggtitle("Histogram of TV")
#histogram of newspaper
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#DDA0DD', high = '#2E0854') + ggtitle("Histogram of TV")
# ************************************************
# Export Visualizations
# ************************************************
png('images/histogram-sales.png')
hist_sales
dev.off()
pdf('images/histogram-sales.pdf')
hist_sales
dev.off()
png('images/histogram-tv.png')
hist_tv
dev.off()
pdf('images/histogram-tv.pdf')
hist_tv
dev.off()
png('images/histogram-radio.png')
hist_radio
dev.off()
pdf('images/histogram-radio.pdf')
hist_radio
dev.off()
png('images/histogram-newspaper.png')
hist_newspaper
dev.off()
pdf('images/histogram-newspaper.pdf')
hist_newspaper
dev.off()
##################################################
# Exploratory Data Analysis
##################################################
# libraries
library(ggplot2)
# Import data
advertising <- read.csv('../../data/Advertising.csv')
advertising['X'] <- NULL
# Exploration and Summary Statistics
str(advertising)
sink('eda-output.txt')
summary(advertising)
sink(NULL)
# ************************************************
# Visualizations
# ************************************************
# histogram of sales
hist_sales <- ggplot(advertising, aes(x = Sales)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 1) +
geom_density() + scale_fill_gradient("Density", low = '#9BC4E2', high = '#0D4F8B') + ggtitle("Histogram of Sales")
#histogram of tv
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#006400', high = 'palegreen') + ggtitle("Histogram of TV")
#histogram of radio
hist_radio <- ggplot(advertising, aes(x = Radio)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 5) +
geom_density() + scale_fill_gradient("Density", low = 'palegreen', high = '#006400') + ggtitle("Histogram of TV")
#histogram of newspaper
hist_newspaper <- ggplot(advertising, aes(x = Newspaper)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#DDA0DD', high = '#2E0854') + ggtitle("Histogram of TV")
# ************************************************
# Export Visualizations
# ************************************************
png('../../images/histogram-sales.png')
hist_sales
dev.off()
pdf('../../images/histogram-sales.pdf')
hist_sales
dev.off()
png('../../images/histogram-tv.png')
hist_tv
dev.off()
pdf('../../images/histogram-tv.pdf')
hist_tv
dev.off()
png('../../images/histogram-radio.png')
hist_radio
dev.off()
pdf('../../images/histogram-radio.pdf')
hist_radio
dev.off()
png('../../images/histogram-newspaper.png')
hist_newspaper
dev.off()
pdf('../../images/histogram-newspaper.pdf')
hist_newspaper
dev.off()
hist_tv <- ggplot(advertising, aes(x = TV)) + geom_histogram(aes(y = ..density.., fill = ..density..), binwidth = 10) +
geom_density() + scale_fill_gradient("Density", low = '#CD9B9B', high = '#660000') + ggtitle("Histogram of TV")
png('../../images/histogram-tv.png')
hist_tv
dev.off()
plotmatrix(advertising[, 1:3]) + geom_smooth(method="lm")
plotmatrix(advertising[, 1:3]) + geom_smooth(method="lm")
pairs(advertising[,1:3], col=colnames(advertising))
colnames(advertising)
9BC4E2
pairs(advertising[,1:3], col = c("Sales", "TV", "Newspape", "Radio")
pairs(advertising[,1:3], col = c("Sales", "TV", "Newspape", "Radio"))
pairs(advertising[,1:3], col = c("Sales", "TV", "Newspape", "Radio"))
pairs(advertising[,1:3])
pairs(x = advertising$Sales, advertising[,1:3])
pairs(advertising[,1:4])
ggcorr(advertising[1:4])
cor(advertising)
library(ggplot2)
library(corrplot)
corrplot(advertising)
corrplot(cor(advertising))
corrplot(cor(advertising))
corr(advertising)
cor(advertising)
plotmatrix(advertising[,1:4])
library(ggplot2)
plotmatrix(advertising[,1:4])
??plotmatrix
library(heplots)
ggpairs(advertising[,1:4])
library(GGally)
ggpairs(advertising[,1:4])
ggpairs(advertising[,1:4], title = "Scatter Plot Matrix of All Variables")
corrplot(cor(advertising))
scatter_matrix <- ggpairs(advertising[,1:4], title = "Scatter Plot Matrix of All Variables")
help(plot.lm)
simp_reg <- lm(Sales ~ TV + Newspaper + Radio, data = advertising)
sum_simp_reg <- summary(simp_reg)
plot(simp_reg, caption = "Residuals vs Fitted")
plot(simp_reg, caption = "Normal Q-Q")
plot(simp_reg, caption = list("Normal Q-Q"))
plot(advertising$Sales, resid(simp_reg))
help(plot.lm)
plot(simp_reg)
library(rattle)
rattle()
plot(advertising$Sales, resid(simp_reg))
par(mar = c(0, 0, 0, 0))
plot(simp_reg)
plot(simp_reg)
plot(simp_reg)
par( par(mar = c(0, 0, 0, 0)))
a <- par(mar = c(0, 0, 0, 0))
par(a)
plot(simp_reg)
dev.off()
plot(simp_reg)
plot(simp_reg, caption = "Residuals vs Fitted")
plot(simp_reg, caption = "Residuals vs Fitted", main = "Residuals vs Fitted")
plot(simp_reg, caption = "Residuals vs Fitted")[1]
plot(simp_reg, which = 1)
plot(simp_reg, which = 1)
setwd("~/Documents/Stat_159/hw/stat159_hw03/code/scripts")
advertising <- read.csv('../../data/Advertising.csv')
advertising
scatter_tv_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6) + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
hist_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6, col=#0D4F8B) + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6) + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6, colour = #0D4F8B) + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6, colour = '#0D4F8B') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
scatter_radio_sales <- ggplot(advertising, aes(x = TV, y = Radio)) + geom_point(alpha = 0.6, colour = '#006400') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: Radio vs Sales")
scatter_radio_sales
# Scatter Plot of Sales on Newspaper
scatter_tv_newspaper <- ggplot(advertising, aes(x = TV, y = Newspaper)) + geom_point(alpha = 0.6, colour = '#2E0854') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: Newspaper vs Sales")
scatter_tv_newspaper
# Scatter Plot of Sales on TV
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6, colour = '#660000') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
scatter_radio_sales <- ggplot(advertising, aes(x = Radio, y = Sales)) + geom_point(alpha = 0.6, colour = '#006400') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: Radio vs Sales")
scatter_radio_sales
# Scatter Plot of Sales on Newspaper
scatter_tv_newspaper <- ggplot(advertising, aes(x = Newspaper, y = Sales)) + geom_point(alpha = 0.6, colour = '#2E0854') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: Newspaper vs Sales")
scatter_tv_newspaper
scatter_radio_sales <- ggplot(advertising, aes(x = Radio, y = Sales)) + geom_point(alpha = 0.6, colour = '#006400') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: Radio vs Sales")
scatter_radio_sales
scatter_tv_sales <- ggplot(advertising, aes(x = TV, y = Sales)) + geom_point(alpha = 0.6, colour = '#660000') + geom_smooth(method = 'lm') +
ggtitle("Scatter Plot: TV vs Sales")
scatter_tv_sales
resid_plot <- plot(simp_reg, which = 1)
png('../../images/residual-plot.png')
resid_plot
dev.off()
resid_plot
resid_plot <- plot(simp_reg, which = 1)
resid_plot
resid_plot <- plot(simp_reg, which = 1)
resid_plot
png('../../images/residual-plot.png')
plot(simp_reg, which = 1)
dev.off()
R.Version()
R.Version$os
R.Version()$os
R.Version
R.Version()
R.Version()$platform
library()
sessionInfo()
